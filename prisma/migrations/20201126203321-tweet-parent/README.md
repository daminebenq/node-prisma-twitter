# Migration `20201126203321-tweet-parent`

This migration has been generated by Diego Fernandes at 11/26/2020, 5:33:22 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "Tweet" DROP CONSTRAINT "Tweet_tweetId_fkey"

ALTER TABLE "Tweet" DROP COLUMN "tweetId",
ADD COLUMN     "parentId" TEXT NOT NULL

ALTER TABLE "Tweet" ADD FOREIGN KEY("parentId")REFERENCES "Tweet"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201126203234-user-follows..20201126203321-tweet-parent
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -26,11 +26,11 @@
   id           String          @id @default(uuid())
   from         User            @relation(fields: [userId], references: [id])
   userId       String
   content      String
-  responseFrom Tweet           @relation("TweetComments", fields: [tweetId], references: [id])
+  responseFrom Tweet           @relation("TweetComments", fields: [parentId], references: [id])
   comments     Tweet[]         @relation("TweetComments")
-  tweetId      String
+  parentId     String
   mentions     TweetMentions[]
   likes        TweetLikes[]
 }
```


